(this["webpackJsonpp5-churmd"]=this["webpackJsonpp5-churmd"]||[]).push([[13],{84:function(t,e,i){"use strict";i.r(e);var n=i(5),s=i(8),o=i(18),l=i(17),a=i(0),h=i.n(a),c=i(4),r=i.n(c),u=function t(e,i){Object(n.a)(this,t),this.tileA=e,this.tileB=i,this.isWall=!0},v=function(){function t(e,i){Object(n.a)(this,t),this.x=e,this.y=i,this.connectionAbove=null,this.connectionRight=null,this.connectionLeft=null,this.connectionBelow=null}return Object(s.a)(t,[{key:"setAboveConnection",value:function(t){this.connectionAbove=new u(this,t)}},{key:"setRightConnection",value:function(t){this.connectionRight=new u(this,t)}},{key:"setBelowConnection",value:function(t){this.connectionBelow=new u(this,t)}},{key:"setLeftConnection",value:function(t){this.connectionLeft=new u(this,t)}},{key:"getTileConnections",value:function(){return[this.connectionAbove,this.connectionBelow,this.connectionLeft,this.connectionRight].filter((function(t){return null!==t}))}},{key:"getWallConnections",value:function(){return this.getTileConnections().filter((function(t){return t.isWall}))}},{key:"removeWallBetween",value:function(t){this.getTileConnections().find((function(e){return e.tileA===t||e.tileB===t})).isWall=!1}},{key:"showTile",value:function(t,e,i,n){t.push(),t.fill(255),t.strokeWeight(1),t.stroke(200),t.rect(e,i,n,n),t.pop()}},{key:"showWalls",value:function(t,e,i,n){var s=n/8,o=e+n,l=i,a=e,h=i+n,c=e+n,r=i+n;t.push(),t.strokeWeight(s),t.stroke(0),t.fill(0),this.connectionAbove&&!this.connectionAbove.isWall||t.line(e,i,o,l),this.connectionBelow&&!this.connectionBelow.isWall||t.line(a,h,c,r),this.connectionLeft&&!this.connectionLeft.isWall||t.line(e,i,a,h),this.connectionRight&&!this.connectionRight.isWall||t.line(o,l,c,r),t.pop()}}]),t}(),d=function(){function t(e,i){Object(n.a)(this,t),this.width=e,this.height=i,this.tiles=[[]],this.visistedTiles=new Set,this.walls=[];for(var s=0;s<i;s++){this.tiles[s]=[];for(var o=0;o<e;o++)this.tiles[s][o]=new v(o,s)}for(var l=0;l<i;l++)for(var a=0;a<e;a++)this.__addAdjacentTiles(this.tiles[l][a]);var h=Math.floor(Math.random()*e),c=Math.floor(Math.random()*i),r=this.tiles[c][h];this.visistedTiles.add(r),this.walls=this.walls.concat(r.getWallConnections())}return Object(s.a)(t,[{key:"__addAdjacentTiles",value:function(t){var e=t.x,i=t.y;this.__isValidCoord(e-1,i)&&t.setLeftConnection(this.tiles[i][e-1]),this.__isValidCoord(e,i-1)&&t.setAboveConnection(this.tiles[i-1][e]),this.__isValidCoord(e+1,i)&&t.setRightConnection(this.tiles[i][e+1]),this.__isValidCoord(e,i+1)&&t.setBelowConnection(this.tiles[i+1][e])}},{key:"__isValidCoord",value:function(t,e){return!(t<0)&&(!(e<0)&&(!(t>=this.width)&&!(e>=this.height)))}},{key:"__removeTileFromArray",value:function(t,e){return t.filter((function(t){var i=t.x===e.x,n=t.y===e.y;return!(i&&n)}))}},{key:"__createFullMazePath",value:function(){var t=new Set,e=[],i=this.tiles[0][0];for(t.add(i),e=e.concat(i.getWallConnections());e.length>0;){var n=Math.floor(Math.random()*e.length),s=e[n],o=s.tileA,l=s.tileB,a=t.has(o),h=t.has(l);a&&!h?(e=e.concat(l.getWallConnections()),o.removeWallBetween(l),l.removeWallBetween(o),t.add(l)):!a&&h&&(e=e.concat(o.getWallConnections()),o.removeWallBetween(l),l.removeWallBetween(o),t.add(o)),e.splice(n,1)}}},{key:"__createMazeUntilWallRemoved",value:function(){if(this.walls.length>0){var t=!1,e=Math.floor(Math.random()*this.walls.length),i=this.walls[e],n=i.tileA,s=i.tileB,o=this.visistedTiles.has(n),l=this.visistedTiles.has(s);o&&!l?(this.walls=this.walls.concat(s.getWallConnections()),n.removeWallBetween(s),s.removeWallBetween(n),this.visistedTiles.add(s),t=!0):!o&&l&&(this.walls=this.walls.concat(n.getWallConnections()),n.removeWallBetween(s),s.removeWallBetween(n),this.visistedTiles.add(n),t=!0),this.walls.splice(e,1),t||this.__createMazeUntilWallRemoved()}}},{key:"completed",value:function(){return 0===this.walls.length}},{key:"update",value:function(){this.__createMazeUntilWallRemoved()}},{key:"show",value:function(t,e,i){var n=e/this.width,s=i/this.height,o=Math.min(n,s),l=(e-o*this.width)/2,a=(i-o*this.height)/2;t.push(),this.__showTiles(t,l,a,o),this.__showWalls(t,l,a,o),t.pop()}},{key:"__showTiles",value:function(t,e,i,n){for(var s=0;s<this.height;s++)for(var o=0;o<this.width;o++){var l=e+o*n,a=i+s*n;this.tiles[s][o].showTile(t,l,a,n)}}},{key:"__showWalls",value:function(t,e,i,n){for(var s=0;s<this.height;s++)for(var o=0;o<this.width;o++){var l=e+o*n,a=i+s*n;this.tiles[s][o].showWalls(t,l,a,n)}}}]),t}(),f=i(29),w=i(3),W=function(t){Object(o.a)(i,t);var e=Object(l.a)(i);function i(t){var s;return Object(n.a)(this,i),(s=e.call(this,t)).sketch=function(t){var e,i=0;t.setup=function(){var n=t.createCanvas(window.innerWidth,window.innerHeight);n.parent("canvas"),n.style("display","block"),t.frameRate(30),i=0,e=new d(20,20)},t.draw=function(){t.background(51),30===i?(i=0,e=new d(20,20)):e.completed()&&i++,e.show(t,window.innerWidth,window.innerHeight),e.update()},t.windowResized=function(){t.resizeCanvas(window.innerWidth,window.innerHeight)}},s.myRef=h.a.createRef(),s}return Object(s.a)(i,[{key:"componentDidMount",value:function(){this.myP5=new r.a(this.sketch,this.myRef.current)}},{key:"render",value:function(){return Object(w.jsx)("div",{ref:this.myRef,children:Object(w.jsx)(f.a,{id:"canvas"})})}}]),i}(h.a.Component);e.default=W}}]);
//# sourceMappingURL=13.c34342b9.chunk.js.map