{"version":3,"sources":["sketches/matrixRain/Symbol.jsx","sketches/matrixRain/Stream.jsx","sketches/matrixRain/MatrixRain.jsx"],"names":["Symbol","p","x","y","velocity","isWhite","setRandomSymbol","decimal","random","value","String","fromCharCode","render","fill","text","update","changeProb","height","this","Stream","symbolSize","setup","randomInt","i","calcStreamLen","sym","symbols","push","min","max","int","maxLen","windowHeight","minLen","length","MatrixRain","props","sketch","streams","createCanvas","windowWidth","style","background","createNewStreams","width","textSize","stream","draw","forEach","s","windowResized","resizeCanvas","myRef","React","createRef","myP5","p5","current","ref","Component"],"mappings":"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","file":"static/js/11.45c2b5d3.chunk.js","sourcesContent":["export default class Symbol {\n\tconstructor(p, x, y, velocity, isWhite) {\n\t\tthis.p = p;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.changeProb = this.p.random(0.5, 1);\n\t\tthis.velocity = velocity;\n\t\tthis.isWhite = isWhite;\n\t\tthis.setRandomSymbol();\n\t}\n\n\tsetRandomSymbol = () => {\n\t\tvar decimal = this.p.random(12448, 12543); //Katakana unicode range\n\t\tthis.value = String.fromCharCode(decimal);\n\t};\n\n\trender = () => {\n\t\tif (this.isWhite) {\n\t\t\tthis.p.fill(180, 255, 180);\n\t\t} else {\n\t\t\tthis.p.fill(0, 255, 70);\n\t\t}\n\t\tthis.p.text(this.value, this.x, this.y);\n\t};\n\n\tupdate = () => {\n\t\tif (this.p.random() > this.changeProb) {\n\t\t\tthis.setRandomSymbol();\n\t\t}\n\t\tif (this.y > this.p.height) {\n\t\t\tthis.y = 0;\n\t\t} else {\n\t\t\tthis.y += this.velocity;\n\t\t}\n\t};\n}\n","import Symbol from \"./Symbol\";\n\nexport default class Stream {\n\tconstructor(p, x, symbolSize) {\n\t\tthis.p = p;\n\t\tthis.x = x;\n\t\tthis.symbolSize = symbolSize;\n\t\tthis.symbols = [];\n\t\tthis.setup();\n\t}\n\n\tsetup = () => {\n\t\tlet y = this.randomInt(-100, -1000);\n\t\tlet velocity = this.randomInt(1, 10);\n\t\tlet isWhite = this.p.random([true, false]);\n\n\t\tfor (let i = 0; i < this.calcStreamLen(); i++) {\n\t\t\tlet sym = new Symbol(this.p, this.x, y, velocity, isWhite);\n\t\t\tthis.symbols.push(sym);\n\t\t\ty -= this.symbolSize;\n\t\t\tisWhite = false;\n\t\t}\n\t};\n\n\trandomInt = (min, max) => {\n\t\treturn this.p.int(this.p.random(min, max));\n\t};\n\n\tcalcStreamLen = () => {\n\t\tlet maxLen = this.p.int(this.p.windowHeight / this.symbolSize);\n\t\tlet minLen = maxLen < 5 ? 1 : 5;\n\t\treturn this.randomInt(minLen, maxLen);\n\t};\n\n\tupdate = () => {\n\t\tfor (let i = 0; i < this.symbols.length; i++) {\n\t\t\tthis.symbols[i].update();\n\t\t}\n\t};\n\n\trender = () => {\n\t\tfor (let i = 0; i < this.symbols.length; i++) {\n\t\t\tthis.symbols[i].render();\n\t\t}\n\t};\n}\n","import React from \"react\";\nimport p5 from \"p5\";\nimport Stream from \"./Stream\";\n\nclass MatrixRain extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.myRef = React.createRef();\n\t}\n\n\tsketch = (p) => {\n\t\tlet numStreams = 50;\n\t\tlet symbolSize;\n\t\tlet streams = [];\n\n\t\tp.setup = () => {\n\t\t\tvar cnv = p.createCanvas(p.windowWidth, p.windowHeight);\n\t\t\tcnv.style(\"display\", \"block\");\n\t\t\tp.background(0);\n\n\t\t\tthis.createNewStreams();\n\t\t};\n\n\t\tthis.createNewStreams = () => {\n\t\t\tstreams = [];\n\n\t\t\tsymbolSize = p.width / numStreams;\n\t\t\tp.textSize(symbolSize);\n\n\t\t\tlet x = 0;\n\t\t\tfor (var i = 0; i <= numStreams; i++) {\n\t\t\t\tvar stream = new Stream(p, x, symbolSize);\n\t\t\t\tstreams.push(stream);\n\t\t\t\tx += symbolSize;\n\t\t\t}\n\t\t};\n\n\t\tp.draw = () => {\n\t\t\tp.background(0, 100);\n\t\t\tstreams.forEach(function (s) {\n\t\t\t\ts.render();\n\t\t\t\ts.update();\n\t\t\t});\n\t\t};\n\n\t\tp.windowResized = () => {\n\t\t\tp.resizeCanvas(p.windowWidth, p.windowHeight);\n\t\t\tthis.createNewStreams();\n\t\t};\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.myP5 = new p5(this.sketch, this.myRef.current);\n\t}\n\n\trender() {\n\t\treturn <div ref={this.myRef}></div>;\n\t}\n}\nexport default MatrixRain;\n"],"sourceRoot":""}