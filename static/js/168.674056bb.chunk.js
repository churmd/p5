"use strict";(self.webpackChunkp5_churmd=self.webpackChunkp5_churmd||[]).push([[168],{1168:function(t,i,e){e.r(i),e.d(i,{default:function(){return k}});var n=e(5671),s=e(3144),h=e(136),o=e(1129),r=e(2791),a=e(2024),c=e.n(a),u=e(1429),p=e(2007),l=e(6300),d=function(){function t(i,e,s){(0,n.Z)(this,t),this.p=i,this.width=e,this.height=s,this.time=0,this.grid=[];for(var h=0;h<e;h++)this.grid[h]=[];for(var o=0;o<e;o++)for(var r=0;r<s;r++)this.grid[o][r]=this.p.noise(o,r,this.t)}return(0,s.Z)(t,[{key:"show",value:function(t,i){this.p.push();for(var e=t/this.width,n=i/this.height,s=0;s<this.width;s++)for(var h=0;h<this.height;h++){var o=s*e,r=h*n;this.p.push();var a=n/2;this.p.translate(o+e/2,r+a),this.p.rotate(this.grid[s][h]*this.p.TWO_PI),this.p.colorMode(this.p.HSL,360);var c=this.p.degrees(this.grid[s][h]*this.p.TWO_PI),u=this.p.color(c,250,200);this.p.stroke(u),this.p.fill(u),this.p.line(0,0,a,0),this.p.triangle(a,0,a-n/10,-n/20,a-n/10,n/20),this.p.pop()}this.p.pop()}},{key:"update",value:function(){this.time+=.001;for(var t=0;t<this.width;t++)for(var i=0;i<this.height;i++)this.grid[t][i]=this.p.noise(t,i,this.time)}},{key:"flowVelocityFromPixelPosition",value:function(t,i,e){var n=this.p.map(t.x,0,i,0,this.width,!0),s=this.p.floor(n),h=this.p.map(t.y,0,e,0,this.height,!0),o=this.p.floor(h),r=this.getSurroundingAngles(s,o),a=(0,l.Smz)(r)/r.length*this.p.TWO_PI;return c().Vector.fromAngle(a,1)}},{key:"getSurroundingAngles",value:function(t,i){var e=this,n=[];return[[t-1,i-1],[t-1,i],[t-1,i+1],[t,i-1],[t,i],[t,i+1],[t+1,i-1],[t+1,0],[t+1,i+1]].forEach((function(t){if(t[0]>=0&&t[1]>=0&&t[0]<e.width&&t[1]<e.height){var i=e.grid[t[0]][t[1]];n.push(i)}})),n}}]),t}();d.prototypes={p5Instance:(0,p.instanceOf)(c()),coveredPerc:p.number,resolution:p.number,delta:p.number};var f=d,v=function(){function t(i,e,s){(0,n.Z)(this,t),this.p=i,this.position=this.p.createVector(e,s),this.velocity=this.p.createVector(0,0)}return(0,s.Z)(t,[{key:"show",value:function(){this.p.push(),this.p.circle(this.position.x,this.position.y,20),this.p.pop()}},{key:"addVelocityAndMove",value:function(t){this.velocity=this.velocity.add(t),this.velocity.normalize(),this.position=this.position.add(this.velocity)}},{key:"isOutOfBounds",value:function(t,i){return this.position.x<0||this.position.y<0||(this.position.x>t||this.position.y>i)}}]),t}();v.prototypes={p5Instance:(0,p.instanceOf)(c()),x:p.number,y:p.number};var w=v,m=function(){function t(i,e,s){(0,n.Z)(this,t),this.p=i,this.flowField=new f(this.p,30,30),this.numParticles=200,this.particles=[];for(var h=0;h<this.numParticles;h++)this.createRandomParticle(e,s)}return(0,s.Z)(t,[{key:"createRandomParticle",value:function(t,i){var e=this.p.random(t),n=this.p.random(i),s=new w(this.p,e,n);this.particles.push(s)}},{key:"createParticleAtMouse",value:function(){var t=new w(this.p,this.p.mouseX,this.p.mouseY);this.particles.push(t)}},{key:"show",value:function(t,i){this.p.push(),this.flowField.show(t,i),this.particles.forEach((function(t){t.show()})),this.p.pop()}},{key:"update",value:function(t,i){var e=this;this.flowField.update(),this.particles.forEach((function(n){var s=e.flowField.flowVelocityFromPixelPosition(n.position,t,i);n.addVelocityAndMove(s)})),this.particles=this.particles.filter((function(e){return!e.isOutOfBounds(t,i)})),this.particles.length!==this.numParticles&&this.createParticleAtMouse(t,i),this.particles.length!==this.numParticles&&this.createRandomParticle(t,i)}}]),t}();m.prototypes={p5Instance:(0,p.instanceOf)(c())};var y=m,g=e(184),k=function(t){(0,h.Z)(e,t);var i=(0,o.Z)(e);function e(t){var s;return(0,n.Z)(this,e),(s=i.call(this,t)).sketch=function(t){var i;t.setup=function(){var e=t.createCanvas(window.innerWidth,window.innerHeight);e.parent("canvas"),e.style("display","block"),i=new y(t,window.innerWidth,window.innerHeight)},t.draw=function(){t.background(51),i.show(window.innerWidth,window.innerHeight),i.update(window.innerWidth,window.innerHeight)},t.windowResized=function(){t.resizeCanvas(window.innerWidth,window.innerHeight)}},s.myRef=r.createRef(),s}return(0,s.Z)(e,[{key:"componentDidMount",value:function(){this.myP5=new(c())(this.sketch,this.myRef.current)}},{key:"componentWillUnmount",value:function(){document.getElementById("canvas").replaceChildren()}},{key:"render",value:function(){return(0,g.jsx)("div",{ref:this.myRef,children:(0,g.jsx)(u.Z,{id:"canvas"})})}}]),e}(r.Component)}}]);
//# sourceMappingURL=168.674056bb.chunk.js.map