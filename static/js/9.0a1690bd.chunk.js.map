{"version":3,"sources":["sketches/lissajousCurveTable/Cog.jsx","sketches/lissajousCurveTable/LissajousCurveTable.jsx"],"names":["Cog","p","x","y","d","index","vertical","this","angle","PI","updateLine","push","strokeWeight","stroke","noFill","ellipse","point","lineStartX","lineStartY","line","lineEndX","lineEndY","pop","r","lineX","cos","lineY","sin","height","width","LissajousCurveTable","props","sketch","gridSize","diameter","cogsTop","cogsSide","patterns","setup","minDim","Math","min","windowWidth","windowHeight","cnv","createCanvas","style","frameRate","numCogs","i","c","j","Set","draw","clear","background","forEach","topCog","sideCog","l1S","l1E","l2S","l2E","intersect","add","show","updateAngle","beginShape","vertex","endShape","windowResized","myRef","React","createRef","myP5","p5","current","className","ref","Component"],"mappings":"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","file":"static/js/9.0a1690bd.chunk.js","sourcesContent":["export default class Cog {\n\tconstructor(p, x, y, d, index, vertical) {\n\t\tthis.p = p;\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.d = d;\n\t\tthis.index = index;\n\t\tthis.vertical = vertical;\n\t\tthis.angle = -(this.p.PI / 2);\n\t\tthis.updateLine();\n\t}\n\n\tshow() {\n\t\tthis.p.push();\n\t\tthis.p.strokeWeight(1);\n\t\tthis.p.stroke(255);\n\t\tthis.p.noFill();\n\t\tthis.p.ellipse(this.x, this.y, this.d, this.d);\n\t\tthis.p.strokeWeight(8);\n\t\tthis.p.point(this.lineStartX, this.lineStartY);\n\t\tthis.p.strokeWeight(1);\n\t\tthis.p.stroke(255, 50);\n\t\tthis.p.line(\n\t\t\tthis.lineStartX,\n\t\t\tthis.lineStartY,\n\t\t\tthis.lineEndX,\n\t\t\tthis.lineEndY\n\t\t);\n\t\tthis.p.pop();\n\t}\n\n\tupdateLine() {\n\t\tlet r = this.d / 2;\n\t\tlet lineX = r * this.p.cos(this.angle);\n\t\tlet lineY = r * this.p.sin(this.angle);\n\t\tthis.lineStartX = this.x + lineX;\n\t\tthis.lineStartY = this.y + lineY;\n\t\tif (this.vertical) {\n\t\t\tthis.lineEndX = this.lineStartX;\n\t\t\tthis.lineEndY = this.p.height;\n\t\t} else {\n\t\t\tthis.lineEndX = this.p.width;\n\t\t\tthis.lineEndY = this.lineStartY;\n\t\t}\n\t}\n\n\tupdateAngle() {\n\t\tthis.angle += 0.01 * this.index;\n\t\tthis.updateLine();\n\t}\n}\n","import React from \"react\";\nimport p5 from \"p5\";\nimport Cog from \"./Cog\";\nimport { intersect } from \"mathjs\";\nimport \"./LissajousCurveTable.scss\";\n\nclass LissajousCurveTable extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.myRef = React.createRef();\n\t}\n\n\tsketch = (p) => {\n\t\tlet numCogs, gridSize;\n\t\tlet diameter;\n\t\tlet cogsTop, cogsSide;\n\t\tlet patterns;\n\n\t\tp.setup = () => {\n\t\t\tconst minDim = Math.min(p.windowWidth, p.windowHeight);\n\t\t\tconst cnv = p.createCanvas(minDim, minDim);\n\t\t\tcnv.style(\"display\", \"block\");\n\t\t\tcnv.style(\"margin\", \"auto\");\n\n\t\t\tp.frameRate(30);\n\n\t\t\tnumCogs = 8;\n\t\t\tgridSize = numCogs + 1;\n\t\t\tdiameter = minDim / gridSize;\n\t\t\tcogsTop = [];\n\t\t\tcogsSide = [];\n\t\t\tpatterns = [[]];\n\n\t\t\tfor (let i = 1; i < gridSize; i++) {\n\t\t\t\tlet xOff = diameter * (i + 0.5);\n\t\t\t\tlet c = new Cog(\n\t\t\t\t\tp,\n\t\t\t\t\txOff,\n\t\t\t\t\tdiameter * 0.5,\n\t\t\t\t\tdiameter * 0.95,\n\t\t\t\t\ti,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t\tcogsTop.push(c);\n\t\t\t}\n\n\t\t\tfor (let i = 1; i < gridSize; i++) {\n\t\t\t\tlet yOff = diameter * (i + 0.5);\n\t\t\t\tlet c = new Cog(\n\t\t\t\t\tp,\n\t\t\t\t\tdiameter * 0.5,\n\t\t\t\t\tyOff,\n\t\t\t\t\tdiameter * 0.95,\n\t\t\t\t\ti,\n\t\t\t\t\tfalse\n\t\t\t\t);\n\t\t\t\tcogsSide.push(c);\n\t\t\t}\n\n\t\t\tfor (let i = 1; i < gridSize; i++) {\n\t\t\t\tpatterns[i] = [];\n\t\t\t\tfor (let j = 1; j < gridSize; j++) {\n\t\t\t\t\tpatterns[i][j] = new Set();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp.draw = () => {\n\t\t\tp.clear();\n\t\t\tp.background(51);\n\n\t\t\tcogsTop.forEach((topCog) => {\n\t\t\t\tcogsSide.forEach((sideCog) => {\n\t\t\t\t\tlet l1S = [topCog.lineStartX, topCog.lineStartY];\n\t\t\t\t\tlet l1E = [topCog.lineEndX, topCog.lineEndY];\n\t\t\t\t\tlet l2S = [sideCog.lineStartX, sideCog.lineStartY];\n\t\t\t\t\tlet l2E = [sideCog.lineEndX, sideCog.lineEndY];\n\t\t\t\t\tlet x = intersect(l1S, l1E, l2S, l2E);\n\t\t\t\t\tpatterns[topCog.index][sideCog.index].add(x);\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tcogsTop.forEach((c) => {\n\t\t\t\tc.show();\n\t\t\t\tc.updateAngle();\n\t\t\t});\n\n\t\t\tcogsSide.forEach((c) => {\n\t\t\t\tc.show();\n\t\t\t\tc.updateAngle();\n\t\t\t});\n\n\t\t\tfor (let i = 1; i < gridSize; i++) {\n\t\t\t\tfor (let j = 1; j < gridSize; j++) {\n\t\t\t\t\tp.push();\n\t\t\t\t\tp.stroke(255);\n\t\t\t\t\tp.strokeWeight(1);\n\t\t\t\t\tp.noFill();\n\t\t\t\t\tp.beginShape();\n\t\t\t\t\tpatterns[i][j].forEach((x) => {\n\t\t\t\t\t\tp.vertex(x[0], x[1]);\n\t\t\t\t\t});\n\t\t\t\t\tp.endShape();\n\t\t\t\t\tp.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tp.windowResized = () => {\n\t\t\tp.setup();\n\t\t};\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.myP5 = new p5(this.sketch, this.myRef.current);\n\t}\n\n\trender() {\n\t\treturn <div className='lissajous-curve-table' ref={this.myRef}></div>;\n\t}\n}\nexport default LissajousCurveTable;\n"],"sourceRoot":""}