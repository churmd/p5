"use strict";(self.webpackChunkp5_churmd=self.webpackChunkp5_churmd||[]).push([[649],{7649:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var i=n(5671),o=n(3144),s=n(136),l=n(1129),h=n(2791),a=n(2024),c=n.n(a),r=(0,o.Z)((function e(t,n){(0,i.Z)(this,e),this.tileA=t,this.tileB=n,this.isWall=!0})),u=function(){function e(t,n){(0,i.Z)(this,e),this.x=t,this.y=n,this.connectionAbove=null,this.connectionRight=null,this.connectionLeft=null,this.connectionBelow=null}return(0,o.Z)(e,[{key:"setAboveConnection",value:function(e){this.connectionAbove=new r(this,e)}},{key:"setRightConnection",value:function(e){this.connectionRight=new r(this,e)}},{key:"setBelowConnection",value:function(e){this.connectionBelow=new r(this,e)}},{key:"setLeftConnection",value:function(e){this.connectionLeft=new r(this,e)}},{key:"getTileConnections",value:function(){return[this.connectionAbove,this.connectionBelow,this.connectionLeft,this.connectionRight].filter((function(e){return null!==e}))}},{key:"getWallConnections",value:function(){return this.getTileConnections().filter((function(e){return e.isWall}))}},{key:"removeWallBetween",value:function(e){this.getTileConnections().find((function(t){return t.tileA===e||t.tileB===e})).isWall=!1}},{key:"showTile",value:function(e,t,n,i){e.push(),e.fill(255),e.strokeWeight(1),e.stroke(200),e.rect(t,n,i,i),e.pop()}},{key:"showWalls",value:function(e,t,n,i){var o=i/8,s=t+i,l=n,h=t,a=n+i,c=t+i,r=n+i;e.push(),e.strokeWeight(o),e.stroke(0),e.fill(0),this.connectionAbove&&!this.connectionAbove.isWall||e.line(t,n,s,l),this.connectionBelow&&!this.connectionBelow.isWall||e.line(h,a,c,r),this.connectionLeft&&!this.connectionLeft.isWall||e.line(t,n,h,a),this.connectionRight&&!this.connectionRight.isWall||e.line(s,l,c,r),e.pop()}}]),e}(),d=function(){function e(t,n){(0,i.Z)(this,e),this.width=t,this.height=n,this.tiles=[[]],this.visistedTiles=new Set,this.walls=[];for(var o=0;o<n;o++){this.tiles[o]=[];for(var s=0;s<t;s++)this.tiles[o][s]=new u(s,o)}for(var l=0;l<n;l++)for(var h=0;h<t;h++)this.__addAdjacentTiles(this.tiles[l][h]);var a=Math.floor(Math.random()*t),c=Math.floor(Math.random()*n),r=this.tiles[c][a];this.visistedTiles.add(r),this.walls=this.walls.concat(r.getWallConnections())}return(0,o.Z)(e,[{key:"__addAdjacentTiles",value:function(e){var t=e.x,n=e.y;this.__isValidCoord(t-1,n)&&e.setLeftConnection(this.tiles[n][t-1]),this.__isValidCoord(t,n-1)&&e.setAboveConnection(this.tiles[n-1][t]),this.__isValidCoord(t+1,n)&&e.setRightConnection(this.tiles[n][t+1]),this.__isValidCoord(t,n+1)&&e.setBelowConnection(this.tiles[n+1][t])}},{key:"__isValidCoord",value:function(e,t){return!(e<0)&&(!(t<0)&&(!(e>=this.width)&&!(t>=this.height)))}},{key:"__removeTileFromArray",value:function(e,t){return e.filter((function(e){var n=e.x===t.x,i=e.y===t.y;return!(n&&i)}))}},{key:"__createFullMazePath",value:function(){var e=new Set,t=[],n=this.tiles[0][0];for(e.add(n),t=t.concat(n.getWallConnections());t.length>0;){var i=Math.floor(Math.random()*t.length),o=t[i],s=o.tileA,l=o.tileB,h=e.has(s),a=e.has(l);h&&!a?(t=t.concat(l.getWallConnections()),s.removeWallBetween(l),l.removeWallBetween(s),e.add(l)):!h&&a&&(t=t.concat(s.getWallConnections()),s.removeWallBetween(l),l.removeWallBetween(s),e.add(s)),t.splice(i,1)}}},{key:"__createMazeUntilWallRemoved",value:function(){if(this.walls.length>0){var e=!1,t=Math.floor(Math.random()*this.walls.length),n=this.walls[t],i=n.tileA,o=n.tileB,s=this.visistedTiles.has(i),l=this.visistedTiles.has(o);s&&!l?(this.walls=this.walls.concat(o.getWallConnections()),i.removeWallBetween(o),o.removeWallBetween(i),this.visistedTiles.add(o),e=!0):!s&&l&&(this.walls=this.walls.concat(i.getWallConnections()),i.removeWallBetween(o),o.removeWallBetween(i),this.visistedTiles.add(i),e=!0),this.walls.splice(t,1),e||this.__createMazeUntilWallRemoved()}}},{key:"completed",value:function(){return 0===this.walls.length}},{key:"update",value:function(){this.__createMazeUntilWallRemoved()}},{key:"show",value:function(e,t,n){var i=t/this.width,o=n/this.height,s=Math.min(i,o),l=(t-s*this.width)/2,h=(n-s*this.height)/2;e.push(),this.__showTiles(e,l,h,s),this.__showWalls(e,l,h,s),e.pop()}},{key:"__showTiles",value:function(e,t,n,i){for(var o=0;o<this.height;o++)for(var s=0;s<this.width;s++){var l=t+s*i,h=n+o*i;this.tiles[o][s].showTile(e,l,h,i)}}},{key:"__showWalls",value:function(e,t,n,i){for(var o=0;o<this.height;o++)for(var s=0;s<this.width;s++){var l=t+s*i,h=n+o*i;this.tiles[o][s].showWalls(e,l,h,i)}}}]),e}(),v=n(1429),f=n(184),w=function(e){(0,s.Z)(n,e);var t=(0,l.Z)(n);function n(e){var o;return(0,i.Z)(this,n),(o=t.call(this,e)).sketch=function(e){var t,n=0;e.setup=function(){var i=e.createCanvas(window.innerWidth,window.innerHeight);i.parent("canvas"),i.style("display","block"),e.frameRate(30),n=0,t=new d(20,20)},e.draw=function(){e.background(51),30===n?(n=0,t=new d(20,20)):t.completed()&&n++,t.show(e,window.innerWidth,window.innerHeight),t.update()},e.windowResized=function(){e.resizeCanvas(window.innerWidth,window.innerHeight)}},o.myRef=h.createRef(),o}return(0,o.Z)(n,[{key:"componentDidMount",value:function(){this.myP5=new(c())(this.sketch,this.myRef.current)}},{key:"componentWillUnmount",value:function(){document.getElementById("canvas").replaceChildren()}},{key:"render",value:function(){return(0,f.jsx)("div",{ref:this.myRef,children:(0,f.jsx)(v.Z,{id:"canvas"})})}}]),n}(h.Component)}}]);
//# sourceMappingURL=649.f820ddc5.chunk.js.map