"use strict";(self.webpackChunkp5_churmd=self.webpackChunkp5_churmd||[]).push([[47],{7047:(t,e,i)=>{i.r(e),i.d(e,{default:()=>w});var s=i(5043),n=i(6454),l=i.n(n);class o{constructor(t,e){this.tileA=t,this.tileB=e,this.isWall=!0}}class h{constructor(t,e){this.x=t,this.y=e,this.connectionAbove=null,this.connectionRight=null,this.connectionLeft=null,this.connectionBelow=null}setAboveConnection(t){this.connectionAbove=new o(this,t)}setRightConnection(t){this.connectionRight=new o(this,t)}setBelowConnection(t){this.connectionBelow=new o(this,t)}setLeftConnection(t){this.connectionLeft=new o(this,t)}getTileConnections(){return[this.connectionAbove,this.connectionBelow,this.connectionLeft,this.connectionRight].filter((t=>null!==t))}getWallConnections(){return this.getTileConnections().filter((t=>t.isWall))}removeWallBetween(t){this.getTileConnections().find((e=>e.tileA===t||e.tileB===t)).isWall=!1}showTile(t,e,i,s){t.push(),t.fill(255),t.strokeWeight(1),t.stroke(200),t.rect(e,i,s,s),t.pop()}showWalls(t,e,i,s){const n=s/8,l=e+s,o=i,h=e,c=i+s,a=e+s,r=i+s;t.push(),t.strokeWeight(n),t.stroke(0),t.fill(0),this.connectionAbove&&!this.connectionAbove.isWall||t.line(e,i,l,o),this.connectionBelow&&!this.connectionBelow.isWall||t.line(h,c,a,r),this.connectionLeft&&!this.connectionLeft.isWall||t.line(e,i,h,c),this.connectionRight&&!this.connectionRight.isWall||t.line(l,o,a,r),t.pop()}}class c{constructor(t,e){this.width=t,this.height=e,this.tiles=[[]],this.visistedTiles=new Set,this.walls=[];for(let l=0;l<e;l++){this.tiles[l]=[];for(let e=0;e<t;e++)this.tiles[l][e]=new h(e,l)}for(let l=0;l<e;l++)for(let e=0;e<t;e++)this.__addAdjacentTiles(this.tiles[l][e]);const i=Math.floor(Math.random()*t),s=Math.floor(Math.random()*e),n=this.tiles[s][i];this.visistedTiles.add(n),this.walls=this.walls.concat(n.getWallConnections())}__addAdjacentTiles(t){const e=t.x,i=t.y;this.__isValidCoord(e-1,i)&&t.setLeftConnection(this.tiles[i][e-1]),this.__isValidCoord(e,i-1)&&t.setAboveConnection(this.tiles[i-1][e]),this.__isValidCoord(e+1,i)&&t.setRightConnection(this.tiles[i][e+1]),this.__isValidCoord(e,i+1)&&t.setBelowConnection(this.tiles[i+1][e])}__isValidCoord(t,e){return!(t<0)&&(!(e<0)&&(!(t>=this.width)&&!(e>=this.height)))}__removeTileFromArray(t,e){return t.filter((t=>{const i=t.x===e.x,s=t.y===e.y;return!(i&&s)}))}__createFullMazePath(){let t=new Set,e=[];const i=this.tiles[0][0];for(t.add(i),e=e.concat(i.getWallConnections());e.length>0;){const i=Math.floor(Math.random()*e.length),s=e[i],n=s.tileA,l=s.tileB,o=t.has(n),h=t.has(l);o&&!h?(e=e.concat(l.getWallConnections()),n.removeWallBetween(l),l.removeWallBetween(n),t.add(l)):!o&&h&&(e=e.concat(n.getWallConnections()),n.removeWallBetween(l),l.removeWallBetween(n),t.add(n)),e.splice(i,1)}}__createMazeUntilWallRemoved(){if(this.walls.length>0){let t=!1;const e=Math.floor(Math.random()*this.walls.length),i=this.walls[e],s=i.tileA,n=i.tileB,l=this.visistedTiles.has(s),o=this.visistedTiles.has(n);l&&!o?(this.walls=this.walls.concat(n.getWallConnections()),s.removeWallBetween(n),n.removeWallBetween(s),this.visistedTiles.add(n),t=!0):!l&&o&&(this.walls=this.walls.concat(s.getWallConnections()),s.removeWallBetween(n),n.removeWallBetween(s),this.visistedTiles.add(s),t=!0),this.walls.splice(e,1),t||this.__createMazeUntilWallRemoved()}}completed(){return 0===this.walls.length}update(){this.__createMazeUntilWallRemoved()}show(t,e,i){const s=e/this.width,n=i/this.height,l=Math.min(s,n),o=(e-l*this.width)/2,h=(i-l*this.height)/2;t.push(),this.__showTiles(t,o,h,l),this.__showWalls(t,o,h,l),t.pop()}__showTiles(t,e,i,s){for(let n=0;n<this.height;n++)for(let l=0;l<this.width;l++){const o=e+l*s,h=i+n*s;this.tiles[n][l].showTile(t,o,h,s)}}__showWalls(t,e,i,s){for(let n=0;n<this.height;n++)for(let l=0;l<this.width;l++){const o=e+l*s,h=i+n*s;this.tiles[n][l].showWalls(t,o,h,s)}}}var a=i(6664),r=i(579);class d extends s.Component{constructor(t){super(t),this.sketch=t=>{let e,i=0;t.setup=()=>{const s=t.createCanvas(window.innerWidth,window.innerHeight);s.parent("canvas"),s.style("display","block"),t.frameRate(30),i=0,e=new c(20,20)},t.draw=()=>{t.background(51),30===i?(i=0,e=new c(20,20)):e.completed()&&i++,e.show(t,window.innerWidth,window.innerHeight),e.update()},t.windowResized=()=>{t.resizeCanvas(window.innerWidth,window.innerHeight)}},this.myRef=s.createRef()}componentDidMount(){this.myP5=new(l())(this.sketch,this.myRef.current)}componentWillUnmount(){document.getElementById("canvas").replaceChildren()}render(){return(0,r.jsx)("div",{ref:this.myRef,children:(0,r.jsx)(a.A,{id:"canvas"})})}}const w=d}}]);
//# sourceMappingURL=47.9680924a.chunk.js.map