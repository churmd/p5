"use strict";(self.webpackChunkp5_churmd=self.webpackChunkp5_churmd||[]).push([[330],{6330:(e,i,t)=>{t.r(i),t.d(i,{default:()=>a});var s=t(5043),n=t(6454),h=t.n(n);class o{constructor(e,i,t,s){this.p=e,this.uuid=s,this.pos=this.p.createVector(i,t),this.r=5,this.heading=this.p.createVector(this.p.random(-1,1),this.p.random(-1,1))}show(e,i){this.p.push(),this.p.translate(this.pos.x,this.pos.y),this.p.rotate(this.heading.heading()+this.p.PI/2),i&&(this.p.push(),this.p.fill(255,50),this.p.noStroke(),this.p.ellipse(0,0,2*e,2*e),this.p.pop()),this.p.fill(255),this.p.triangle(-10,10,0,-10,10,10),this.p.pop()}update(e,i,t,s,n,h,o){const r=e.filter((e=>{const i=this.p.dist(this.pos.x,this.pos.y,e.pos.x,e.pos.y);return e.uuid!==this.uuid&&i<n})),d=this.separate(r).mult(i),a=this.align(r).mult(t),c=this.cohesion(r).mult(s),l=this.p.createVector(0,0);l.add(d),l.add(a),l.add(c),l.normalize(),this.changeHeading(l),this.pos.add(this.heading),this.keepInBounds(0,0,h,o)}separate(e){let i=this.p.createVector(0,0);return e.forEach((e=>{let t=h().Vector.sub(e.pos,this.pos);i.add(t)})),i.normalize(),i.mult(-1)}align(e){let i=this.p.createVector(0,0);return e.forEach((e=>{i.add(e.heading)})),i.normalize()}cohesion(e){let i=this.p.createVector(0,0);if(0===e.length)return i;e.forEach((e=>{i.add(e.pos)}));const t=h().Vector.div(i,e.length);return h().Vector.sub(t,this.pos).normalize()}keepInBounds(e,i,t,s){const n=this.pos.copy();if(this.pos.x<e&&(n.x=e),this.pos.y<i&&(n.y=i),this.pos.x>t&&(n.x=t),this.pos.y>s&&(n.y=s),!n.equals(this.pos)){const e=h().Vector.sub(n,this.pos);this.changeHeading(e)}}changeHeading(e){const i=h().Vector.mult(e,.1),t=h().Vector.mult(this.heading,.9).add(i);t.normalize(),this.heading=t}}var r=t(579);class d extends s.Component{constructor(e){super(e),this.sketch=e=>{let i,t,s,n,h,r=[],d=50,a=50,c=40,l=100;e.setup=()=>{var p=e.createCanvas(e.windowWidth,.9*e.windowHeight);p.parent("canvas"),p.style("display","block");for(let i=0;i<100;i++){const t=e.random(0,e.windowWidth),s=e.random(0,.9*e.windowHeight);r.push(new o(e,t,s,i))}i=e.createSlider(0,100,d),i.parent("sepDiv"),t=e.createSlider(0,100,a),t.parent("alignDiv"),s=e.createSlider(0,100,c),s.parent("cohDiv"),n=e.createSlider(0,200,l),n.parent("neighbourhoodDiv"),n.style("display","inline-block"),h=e.createCheckbox("Show",!1),h.parent("neighbourhoodDiv"),h.style("display","inline-block")},e.draw=()=>{e.background(51),d=i.value(),a=t.value(),c=s.value(),l=n.value(),r.forEach((i=>{i.update(r,d,a,c,l,e.windowWidth,.9*e.windowHeight),i.show(l,h.checked())}))},e.windowResized=()=>{e.resizeCanvas(e.windowWidth,.9*e.windowHeight)}},this.myRef=s.createRef()}componentDidMount(){this.myP5=new(h())(this.sketch,this.myRef.current)}componentWillUnmount(){document.getElementById("canvas").replaceChildren(),document.getElementById("sepDiv").children[1].remove(),document.getElementById("alignDiv").children[1].remove(),document.getElementById("cohDiv").children[1].remove(),document.getElementById("neighbourhoodDiv").children[1].remove()}render(){return(0,r.jsxs)("div",{ref:this.myRef,children:[(0,r.jsx)("div",{id:"canvas"}),(0,r.jsxs)("div",{id:"controls",children:[(0,r.jsx)("div",{id:"sepDiv",className:"slider",children:(0,r.jsx)("p",{children:"Separation"})}),(0,r.jsx)("div",{id:"alignDiv",className:"slider",children:(0,r.jsx)("p",{children:"Alignment"})}),(0,r.jsx)("div",{id:"cohDiv",className:"slider",children:(0,r.jsx)("p",{children:"Cohesion"})}),(0,r.jsx)("div",{id:"neighbourhoodDiv",className:"slider",children:(0,r.jsx)("p",{children:"Neighbourhood"})})]})]})}}const a=d}}]);
//# sourceMappingURL=330.3a5d93d4.chunk.js.map