"use strict";(self.webpackChunkp5_churmd=self.webpackChunkp5_churmd||[]).push([[649],{7649:function(e,t,i){i.r(t),i.d(t,{default:function(){return w}});var n=i(5671),o=i(3144),s=i(136),l=i(1129),h=i(2791),a=i(2024),c=i.n(a),r=(0,o.Z)((function e(t,i){(0,n.Z)(this,e),this.tileA=t,this.tileB=i,this.isWall=!0})),u=function(){function e(t,i){(0,n.Z)(this,e),this.x=t,this.y=i,this.connectionAbove=null,this.connectionRight=null,this.connectionLeft=null,this.connectionBelow=null}return(0,o.Z)(e,[{key:"setAboveConnection",value:function(e){this.connectionAbove=new r(this,e)}},{key:"setRightConnection",value:function(e){this.connectionRight=new r(this,e)}},{key:"setBelowConnection",value:function(e){this.connectionBelow=new r(this,e)}},{key:"setLeftConnection",value:function(e){this.connectionLeft=new r(this,e)}},{key:"getTileConnections",value:function(){return[this.connectionAbove,this.connectionBelow,this.connectionLeft,this.connectionRight].filter((function(e){return null!==e}))}},{key:"getWallConnections",value:function(){return this.getTileConnections().filter((function(e){return e.isWall}))}},{key:"removeWallBetween",value:function(e){this.getTileConnections().find((function(t){return t.tileA===e||t.tileB===e})).isWall=!1}},{key:"showTile",value:function(e,t,i,n){e.push(),e.fill(255),e.strokeWeight(1),e.stroke(200),e.rect(t,i,n,n),e.pop()}},{key:"showWalls",value:function(e,t,i,n){var o=n/8,s=t+n,l=i,h=t,a=i+n,c=t+n,r=i+n;e.push(),e.strokeWeight(o),e.stroke(0),e.fill(0),this.connectionAbove&&!this.connectionAbove.isWall||e.line(t,i,s,l),this.connectionBelow&&!this.connectionBelow.isWall||e.line(h,a,c,r),this.connectionLeft&&!this.connectionLeft.isWall||e.line(t,i,h,a),this.connectionRight&&!this.connectionRight.isWall||e.line(s,l,c,r),e.pop()}}]),e}(),d=function(){function e(t,i){(0,n.Z)(this,e),this.width=t,this.height=i,this.tiles=[[]],this.visistedTiles=new Set,this.walls=[];for(var o=0;o<i;o++){this.tiles[o]=[];for(var s=0;s<t;s++)this.tiles[o][s]=new u(s,o)}for(var l=0;l<i;l++)for(var h=0;h<t;h++)this.__addAdjacentTiles(this.tiles[l][h]);var a=Math.floor(Math.random()*t),c=Math.floor(Math.random()*i),r=this.tiles[c][a];this.visistedTiles.add(r),this.walls=this.walls.concat(r.getWallConnections())}return(0,o.Z)(e,[{key:"__addAdjacentTiles",value:function(e){var t=e.x,i=e.y;this.__isValidCoord(t-1,i)&&e.setLeftConnection(this.tiles[i][t-1]),this.__isValidCoord(t,i-1)&&e.setAboveConnection(this.tiles[i-1][t]),this.__isValidCoord(t+1,i)&&e.setRightConnection(this.tiles[i][t+1]),this.__isValidCoord(t,i+1)&&e.setBelowConnection(this.tiles[i+1][t])}},{key:"__isValidCoord",value:function(e,t){return!(e<0)&&(!(t<0)&&(!(e>=this.width)&&!(t>=this.height)))}},{key:"__removeTileFromArray",value:function(e,t){return e.filter((function(e){var i=e.x===t.x,n=e.y===t.y;return!(i&&n)}))}},{key:"__createFullMazePath",value:function(){var e=new Set,t=[],i=this.tiles[0][0];for(e.add(i),t=t.concat(i.getWallConnections());t.length>0;){var n=Math.floor(Math.random()*t.length),o=t[n],s=o.tileA,l=o.tileB,h=e.has(s),a=e.has(l);h&&!a?(t=t.concat(l.getWallConnections()),s.removeWallBetween(l),l.removeWallBetween(s),e.add(l)):!h&&a&&(t=t.concat(s.getWallConnections()),s.removeWallBetween(l),l.removeWallBetween(s),e.add(s)),t.splice(n,1)}}},{key:"__createMazeUntilWallRemoved",value:function(){if(this.walls.length>0){var e=!1,t=Math.floor(Math.random()*this.walls.length),i=this.walls[t],n=i.tileA,o=i.tileB,s=this.visistedTiles.has(n),l=this.visistedTiles.has(o);s&&!l?(this.walls=this.walls.concat(o.getWallConnections()),n.removeWallBetween(o),o.removeWallBetween(n),this.visistedTiles.add(o),e=!0):!s&&l&&(this.walls=this.walls.concat(n.getWallConnections()),n.removeWallBetween(o),o.removeWallBetween(n),this.visistedTiles.add(n),e=!0),this.walls.splice(t,1),e||this.__createMazeUntilWallRemoved()}}},{key:"completed",value:function(){return 0===this.walls.length}},{key:"update",value:function(){this.__createMazeUntilWallRemoved()}},{key:"show",value:function(e,t,i){var n=t/this.width,o=i/this.height,s=Math.min(n,o),l=(t-s*this.width)/2,h=(i-s*this.height)/2;e.push(),this.__showTiles(e,l,h,s),this.__showWalls(e,l,h,s),e.pop()}},{key:"__showTiles",value:function(e,t,i,n){for(var o=0;o<this.height;o++)for(var s=0;s<this.width;s++){var l=t+s*n,h=i+o*n;this.tiles[o][s].showTile(e,l,h,n)}}},{key:"__showWalls",value:function(e,t,i,n){for(var o=0;o<this.height;o++)for(var s=0;s<this.width;s++){var l=t+s*n,h=i+o*n;this.tiles[o][s].showWalls(e,l,h,n)}}}]),e}(),v=i(1429),f=i(184),w=function(e){(0,s.Z)(i,e);var t=(0,l.Z)(i);function i(e){var o;return(0,n.Z)(this,i),(o=t.call(this,e)).sketch=function(e){var t,i=0;e.setup=function(){var n=e.createCanvas(window.innerWidth,window.innerHeight);n.parent("canvas"),n.style("display","block"),e.frameRate(30),i=0,t=new d(20,20)},e.draw=function(){e.background(51),30===i?(i=0,t=new d(20,20)):t.completed()&&i++,t.show(e,window.innerWidth,window.innerHeight),t.update()},e.windowResized=function(){e.resizeCanvas(window.innerWidth,window.innerHeight)}},o.myRef=h.createRef(),o}return(0,o.Z)(i,[{key:"componentDidMount",value:function(){this.myP5=new(c())(this.sketch,this.myRef.current)}},{key:"render",value:function(){return(0,f.jsx)("div",{ref:this.myRef,children:(0,f.jsx)(v.Z,{id:"canvas"})})}}]),i}(h.Component)}}]);
//# sourceMappingURL=649.90d6fe67.chunk.js.map